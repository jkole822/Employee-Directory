(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{214:function(e,t,r){},216:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(81),s=r.n(i),c=r(2),o=r(3),l=r(6),u=r(7),d=r(10),h=r.n(d),m=r(18),p=r(34),j=r(19),f=r(38),b=r(0),g=function(e){var t=e.type,r=e.onClick,n=e.className,a=e.text,i=e.verticalMargin,s=e.horizontalMargin,c=Object(p.useMediaQuery)({query:"(max-width: 960px)"});return Object(b.jsx)("button",{type:t,className:c?"".concat(i,"  ").concat(n):"".concat(s," ").concat(n),onClick:r,children:a})},O=function(e){var t=e.filterSubmit,r=e.filterReset,n=Object(p.useMediaQuery)({query:"(max-width: 960px)"});return Object(b.jsx)(j.d,{initialValues:{filterText:"",filterOption:""},validationSchema:f.a({filterText:f.b().required("Search Term Required"),filterOption:f.b().required("Filter Option Required")}),onSubmit:function(){var e=Object(m.a)(h.a.mark((function e(r,n){var a,i,s,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.filterText,i=r.filterOption,s=n.setSubmitting,c=n.resetForm,o=n.setFieldTouched,t(i,a),s(!1),c(),document.getElementById("filterText-input").blur(),o("filterText",!1);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),children:Object(b.jsxs)(j.c,{children:[Object(b.jsxs)("div",{className:"uk-flex uk-flex-center@m uk-flex-wrap",children:[Object(b.jsxs)(j.b,{name:"filterOption",as:"select",className:n?"uk-margin-small-bottom uk-select uk-width-1-1@s uk-width-1-5@m":"uk-margin-small-bottom uk-margin-small-right uk-select uk-width-1-1@s uk-width-1-5@m",children:[Object(b.jsx)("option",{value:"",disabled:!0,children:"Filter by:"}),Object(b.jsx)("option",{value:"name",children:"Name"}),Object(b.jsx)("option",{value:"age",children:"Age"}),Object(b.jsx)("option",{value:"location",children:"Location"}),Object(b.jsx)("option",{value:"email",children:"Email"}),Object(b.jsx)("option",{value:"username",children:"Username"})]}),Object(b.jsx)(j.b,{name:"filterText",type:"text",id:"filterText-input",className:n?"uk-margin-small-bottom uk-input uk-width-1-1@s uk-width-1-2@m":"uk-margin-small-bottom uk-margin-small-left uk-input uk-width-1-1@s uk-width-1-2@m",placeholder:"Search"})]}),Object(b.jsxs)("div",{className:"uk-flex uk-flex-center uk-margin-small-bottom uk-text-danger uk-text-bold",children:[Object(b.jsx)("div",{className:"uk-margin-small-right",children:Object(b.jsx)(j.a,{name:"filterOption"})}),Object(b.jsx)("div",{className:"uk-margin-small-left",children:Object(b.jsx)(j.a,{name:"filterText"})})]}),Object(b.jsxs)("div",{className:"uk-flex uk-flex-center@m uk-flex-wrap",children:[Object(b.jsx)(g,{type:"submit",className:"uk-button uk-button-primary uk-width-1-1@s uk-width-1-6@m",horizontalMargin:"uk-margin-small-right",verticalMargin:"uk-margin-small-bottom",text:"Submit"}),Object(b.jsx)(g,{type:"reset",onClick:r,className:"uk-button uk-button-default uk-width-1-1@s uk-width-1-6@m",horizontalMargin:"uk-margin-small-left",verticalMargin:"uk-margin-small-bottom",text:"Reset"})]})]})})},x=r(8),k=r(87),y=r.n(k),v=function(e){var t=e.image,r=e.firstName,n=e.lastName,a=e.state,i=e.city,s=e.dob,c=(e.age,e.email),o=e.username;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:t,className:"uk-preserve-width uk-border-circle",alt:"".concat(r," ").concat(n)})}),Object(b.jsx)("td",{children:"".concat(r," ").concat(n)}),Object(b.jsx)("td",{children:new Date(s).toLocaleDateString()}),Object(b.jsx)("td",{children:"".concat(i,", ").concat(a)}),Object(b.jsx)("td",{children:c}),Object(b.jsx)("td",{children:o})]})},w=function(e){var t=e.title,r=e.uiClass,n=e.selectCategory,a=e.currentCategory,i=e.currentOrder;return Object(b.jsxs)("th",{onClick:function(){return n(t.toLowerCase())},className:r,children:[t," ",function(){if(t&&t.toLowerCase()===a)return i?Object(b.jsx)("span",{"uk-icon":"icon: chevron-up"}):Object(b.jsx)("span",{"uk-icon":"icon: chevron-down"})}()]})},C=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={data:[],employeeList:[],employees:[],sortCategory:"name",sortOrder:!0},e.resetEmployeeList=Object(m.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({employeeList:Object(x.a)(e.state.data)});case 2:r=Math.ceil(e.state.data.length/10),e.props.getPageCount(r),e.sortEmployees();case 5:case"end":return t.stop()}}),t)}))),e.handleClick=function(t){e.state.sortCategory===t?e.setState({sortOrder:!e.state.sortOrder}):e.setState({sortOrder:!0}),e.setState({sortCategory:t})},e.sortEmployees=Object(m.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(x.a)(e.state.employeeList).sort((function(t,r){switch(e.state.sortCategory){case"name":return e.state.sortOrder?t.name.last<r.name.last?-1:1:t.name.last>r.name.last?-1:1;case"dob":return e.state.sortOrder?new Date(t.dob.date).getTime()-new Date(r.dob.date).getTime():new Date(r.dob.date).getTime()-new Date(t.dob.date).getTime();case"location":return e.state.sortOrder?t.location.city<r.location.city?-1:1:t.location.city>r.location.city?-1:1;case"email":return e.state.sortOrder?t.email<r.email?-1:1:t.email>r.email?-1:1;case"username":return e.state.sortOrder?t.login.username<r.login.username?-1:1:t.login.username>r.login.username?-1:1;default:return null}})),t.next=3,e.setState({employeeList:r});case 3:e.paginateEmployees();case 4:case"end":return t.stop()}}),t)}))),e.paginateEmployees=function(){var t=10*(e.props.currentPage-1),r=10*(e.props.currentPage-1)+10;e.setState({employees:e.state.employeeList.slice(t,r)})},e.renderRows=function(){return e.state.employees.map((function(e){return Object(b.jsx)(v,{image:e.picture.thumbnail,firstName:e.name.first,lastName:e.name.last,state:e.location.state,city:e.location.city,dob:e.dob.date,age:e.dob.age,email:e.email,username:e.login.username},e.login.sha256)}))},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://randomuser.me/api/?results=100&nat=us");case 2:t=e.sent,r=Math.ceil(t.data.results.length/10),this.props.getPageCount(r),this.setState({employeeList:Object(x.a)(t.data.results),data:Object(x.a)(t.data.results)}),this.sortEmployees();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(m.a)(h.a.mark((function e(t,r){var n,a,i,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.filterText===this.props.filterText&&t.filterOption===this.props.filterOption){e.next=12;break}if(n=this.props.filterText.toLowerCase().trim(),a=this.state.data.filter((function(e){switch(s.props.filterOption){case"name":return"".concat(e.name.first," ").concat(e.name.last).toLowerCase().includes(n);case"age":return e.dob.age===parseInt(n);case"location":return"".concat(e.location.city,", ").concat(e.location.state).toLowerCase().includes(n);case"email":return e.email.toLowerCase().includes(n);case"username":return e.login.username.toLowerCase().includes(n);default:return s.resetEmployeeList()}})),!this.props.filterOption){e.next=10;break}return i=Math.ceil(a.length/10),this.props.getPageCount(i),e.next=8,this.setState({employeeList:a});case 8:this.props.handleCurrentPageReset(),this.sortEmployees();case 10:e.next=13;break;case 12:r.sortCategory!==this.state.sortCategory||r.sortOrder!==this.state.sortOrder?this.sortEmployees():t.currentPage!==this.props.currentPage&&this.paginateEmployees();case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(b.jsx)("div",{className:"uk-overflow-auto",children:Object(b.jsxs)("table",{className:"uk-table uk-table-striped uk-table-justify",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)(w,{uiClass:"uk-table-shrink"}),Object(b.jsx)(w,{currentCategory:this.state.sortCategory,currentOrder:this.state.sortOrder,title:"Name",selectCategory:this.handleClick}),Object(b.jsx)(w,{currentCategory:this.state.sortCategory,currentOrder:this.state.sortOrder,title:"DOB",selectCategory:this.handleClick}),Object(b.jsx)(w,{currentCategory:this.state.sortCategory,currentOrder:this.state.sortOrder,title:"Location",selectCategory:this.handleClick}),Object(b.jsx)(w,{currentCategory:this.state.sortCategory,currentOrder:this.state.sortOrder,title:"Email",selectCategory:this.handleClick}),Object(b.jsx)(w,{currentCategory:this.state.sortCategory,currentOrder:this.state.sortOrder,title:"Username",selectCategory:this.handleClick})]})}),Object(b.jsx)("tbody",{children:this.renderRows()})]})})}}]),r}(a.a.Component),N={displayNone:{display:"none"},displayInline:{display:"inline"}},P=function(e){var t=e.pageCount,r=e.currentPage,n=e.handlePageClick,a=function(e){return r>=5&&r<=t-3?e>=r-2&&e<=r+2?N.displayInline:N.displayNone:r<5?e<=6?N.displayInline:N.displayNone:r>t-3?e>=t-5?N.displayInline:N.displayNone:void 0};return Object(b.jsxs)("ul",{className:"uk-pagination",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#",onClick:function(){return n("prev")},children:Object(b.jsx)("span",{"uk-icon":"icon: chevron-left"})})}),Object(b.jsx)("li",{className:1===r?"uk-active":"",children:Object(b.jsx)("a",{href:"#",onClick:function(){return n(1)},children:"1"})}),t<8?function(){for(var e=[],a=function(t){e.push(Object(b.jsx)("li",{className:r===t?"uk-active":"",children:Object(b.jsx)("a",{href:"#",onClick:function(){return n(t)},children:t})},t))},i=2;i<t;i++)a(i);return e}():function(){for(var e=[Object(b.jsx)("li",{className:"uk-disabled",children:Object(b.jsx)("span",{children:"..."})},"ellipsis-left")],i=function(t){e.push(Object(b.jsx)("li",{className:r===t?"uk-active":"",style:a(t),children:Object(b.jsx)("a",{href:"#",onClick:function(){return n(t)},children:t})},t))},s=2;s<t;s++)i(s);return e.push(Object(b.jsx)("li",{className:"uk-disabled",children:Object(b.jsx)("span",{children:"..."})},"ellipsis-right")),e}(),Object(b.jsx)("li",{className:r===t?"uk-active":"",children:Object(b.jsx)("a",{href:"#",onClick:function(){return n(t)},children:t})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"#",onClick:function(){return n("next")},children:Object(b.jsx)("span",{"uk-icon":"icon: chevron-right"})})})]})},S=(r(214),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={filterOption:"",filterText:"",pageCount:1,currentPage:1},e.handlePageClick=function(t){"prev"===t&&e.state.currentPage>1?e.setState({currentPage:e.state.currentPage-1}):"next"===t&&e.state.currentPage<e.state.pageCount?e.setState({currentPage:e.state.currentPage+1}):"number"===typeof t&&e.setState({currentPage:t})},e.handleSubmit=function(t,r){e.setState({filterOption:t,filterText:r})},e.handleReset=function(){e.setState({filterOption:"",filterText:""})},e.handleCurrentPageReset=function(){e.setState({currentPage:1})},e.renderPagination=function(){return e.state.pageCount>1?Object(b.jsx)("div",{className:"uk-flex uk-flex-center uk-margin",children:Object(b.jsx)(P,{pageCount:e.state.pageCount,currentPage:e.state.currentPage,handlePageClick:e.handlePageClick})}):null},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{id:"header",className:"uk-text-center uk-padding uk-margin-large-bottom",children:"Employee Directory"}),Object(b.jsxs)("div",{className:"uk-container",children:[Object(b.jsx)(O,{filterSubmit:this.handleSubmit,filterReset:this.handleReset}),this.renderPagination(),Object(b.jsx)(C,{handleCurrentPageReset:this.handleCurrentPageReset,getPageCount:function(t){return e.setState({pageCount:t})},currentPage:this.state.currentPage,filterText:this.state.filterText,filterOption:this.state.filterOption})]})]})}}]),r}(a.a.Component)),T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r(215);var E=r(88),R=r.n(E),M=r(89),D=r.n(M);R.a.use(D.a),s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Employee-Directory",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Employee-Directory","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):L(t,e)}))}}()}},[[216,1,2]]]);
//# sourceMappingURL=main.c0fe9f3e.chunk.js.map